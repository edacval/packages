# Maintainer: Joffrey <joffrey.darcq@sfr.fr>

gitname='uBlock'
pkgname='chromium-ublock-origin'
pkgver=1.14.16
pkgrel=1
pkgdesc="An efficient blocker for Chromium"
arch=('any')
url="https://github.com/gorhill/${gitname}"
license=('GPL3')
makedepends=('zip')
conflicts=('chromium-ublock-origin-git')
source=("https://github.com/gorhill/${gitname}/archive/${pkgver}.tar.gz")
md5sums=('dee9fae51f410579ee4352cff2f3cc0d')
sha256sums=('0d11e5455aabea0b69bd3f88a521d9a40e8e9ace8a5c14d62ea2f8f8acae60f1')

build() {
    cd "${srcdir}/${gitname}-${pkgver}/"
    
    ./tools/make-chromium.sh
}
package() {
    cd "${srcdir}/${gitname}-${pkgver}"
    
    mkdir -p "${pkgdir}/usr/share/${pkgname}"
    cp -dr --no-preserve=ownership "dist/build/uBlock0.chromium"/* \
        "${pkgdir}/usr/share/${pkgname}/"
}
